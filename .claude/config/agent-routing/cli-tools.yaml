# CLI ツール一元設定
# エージェントは実行時にこのファイルを読み、指定された値で CLI コマンドを構築する。
# 値を変更すると、このファイルを参照する全エージェントに自動で反映される。
#
# プロジェクト固有の上書き:
#   .claude/config/cli-tools.local.yaml に同じキーを書くと、そちらが優先される。
#   例: codex.model だけ変えたい場合
#     codex:
#       model: o3-pro

# OpenAI Codex CLI (https://github.com/openai/codex)
# 設計判断・デバッグ・コードレビューなど深い推論が必要な場面で使用
codex:
  # codex exec --model <この値> で指定される
  model: gpt-5.3-codex
  sandbox:
    # 読み取り専用: 設計相談・分析・レビュー向け（ファイル変更不可）
    analysis: read-only
    # 書き込み可能: 実装・修正・リファクタリング向け（ワークスペース内のファイル変更可）
    implementation: workspace-write
  # codex exec に常に付与するフラグ
  # --full-auto: 確認プロンプトなしで自動実行
  flags: --full-auto

# Google Gemini CLI (https://github.com/google-gemini/gemini-cli)
# リサーチ・ドキュメント分析・コードベース理解・マルチモーダル処理で使用
gemini:
  # gemini -m <この値> で指定される
  # 未指定（空文字）の場合は -m フラグを省略し CLI デフォルトモデルを使用
  model: gemini-2.5-pro
  # gemini コマンドに常に付与するフラグ（不要なら空文字）
  flags: ""

# Claude Code サブエージェントの設定
subagent:
  # エージェント .md のフロントマター model に対応
  # 選択肢: sonnet, opus, haiku
  default_model: sonnet

# 言語プロトコル
language:
  # Codex/Gemini への質問に使う言語（英語の方が精度が高い傾向）
  cli_query: english
  # ユーザーへの出力に使う言語
  user_output: japanese

# エージェントルーティング
# 各エージェントが使用するツールを定義する。
# tool: "codex" | "gemini" | "claude-direct" | "auto"
#   - codex: Codex CLI を使用
#   - gemini: Gemini CLI を使用
#   - claude-direct: 外部CLIを呼ばず自身で処理
#   - auto: タスクに応じて codex / gemini / claude-direct を使い分け
agents:
  # --- レビュー・設計分析系（Claude Code 直接）---
  architect:
    tool: claude-direct
  api-designer:
    tool: claude-direct
  architecture-reviewer:
    tool: claude-direct
  auth-designer:
    tool: claude-direct
  code-reviewer:
    tool: claude-direct
  data-modeler:
    tool: claude-direct
  performance-reviewer:
    tool: claude-direct
  security-reviewer:
    tool: claude-direct
  spec-reviewer:
    tool: claude-direct
  ux-reviewer:
    tool: claude-direct

  # --- 実装・開発系（Codex CLI）---
  ai-dev:
    tool: codex
    sandbox: workspace-write
  backend-go-dev:
    tool: codex
    sandbox: workspace-write
  backend-python-dev:
    tool: codex
    sandbox: workspace-write
  debugger:
    tool: codex
    sandbox: workspace-write
  frontend-dev:
    tool: codex
    sandbox: workspace-write
  rag-engineer:
    tool: codex
    sandbox: workspace-write
  spec-writer:
    tool: codex
    sandbox: workspace-write
  tester:
    tool: codex
    sandbox: workspace-write

  # --- マルチツール系（状況に応じて使い分け）---
  ai-architect:
    tool: auto
    model: null
  general-purpose:
    tool: auto
    model: null

  # --- リサーチ系（Gemini CLI）---
  researcher:
    tool: gemini
    model: null

  # --- その他（Claude Code 直接）---
  docs-writer:
    tool: claude-direct
  planner:
    tool: claude-direct
  prompt-engineer:
    tool: claude-direct
  requirements:
    tool: claude-direct
